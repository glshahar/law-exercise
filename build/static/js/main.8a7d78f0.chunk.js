(this["webpackJsonplaw-geex"]=this["webpackJsonplaw-geex"]||[]).push([[0],{80:function(n,e,t){},82:function(n,e,t){},88:function(n,e,t){"use strict";t.r(e);var a,c,i,r,o=t(0),s=t.n(o),l=t(11),d=t.n(l),h=(t(80),t(19)),p=t(42),x=t.n(p),u=t(54),j=t(53),b=t(15),m=(t(82),t(126)),g=t(129),f=t(130),O=t(22),w=t.p+"static/media/logo-imdb.b3b5606f.png",v=t(4),y=O.a.div(a||(a=Object(h.a)(["\n    width: 80%;\n    padding: 6% 10%;\n    display: flex;\n    flex-direction: row;\n\n    .closeBtn {\n        font-size: 20px;\n        border: none;\n        position: absolute;\n        background-color: white;\n        cursor: pointer;\n        left: 30px;\n        top: 30px;\n    }\n\n    .moviePoster {\n        width: 30%;\n        img {\n            max-width: 100%;\n            max-height: 100%;\n            height: auto;\n        }\n    }\n\n    .movieContent {\n        width: 70%;\n        padding-left: 30px;\n        h2 {\n            margin-top: 0;\n        }\n        h5 > span {\n            margin-right: 5px;\n        }\n        .lineContent {\n            display: flex;\n            flex-direction: row;\n        }\n        .chipsWrapper {\n            width: 65%;\n            .chipStyle {\n                margin-right: 10px;\n                margin-left: -2px;\n            }\n        }\n        .ratingWrapper {\n            width: 30%;\n            display: flex;\n            flex-direction: row;\n            div {\n                width: 50%;\n                display: flex;\n                flex-direction: row;\n            }\n            .likeIcon {\n                height: 25px;\n                font-size: 22px;\n                text-align: center;\n                line-height: 25px;\n            }\n            .imdbLogo {\n                max-height: 25px;\n                max-width: 80%;\n                width: auto;\n                height: auto;\n            }\n            .rateText {\n                font-size: 14px;\n                text-align: center;\n                line-height: 25px;\n                margin-left: 5px;\n            }\n        }\n    }\n\n"]))),I=function(n){var e=n.openPopup,t=n.closePopup,a=n.movieData;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(g.a,{open:e,onClose:t,maxWidth:"100px",className:"DialogStyle",style:{width:"70%",margin:"auto"},role:"dialog",children:Object(v.jsxs)(y,{children:[Object(v.jsx)("button",{className:"closeBtn",onClick:t,children:"\u2715"}),Object(v.jsx)("div",{className:"moviePoster",children:Object(v.jsx)("img",{alt:"poster",src:a.Poster})}),Object(v.jsxs)("div",{className:"movieContent",children:[Object(v.jsx)("h2",{children:a.Title}),Object(v.jsxs)("h5",{children:[Object(v.jsx)("span",{children:a.Year}),Object(v.jsxs)("span",{children:["\u23f1 ",a.Runtime]}),"N/A"!==a.Awards&&Object(v.jsxs)("span",{children:["\ud83c\udfc6 ",a.Awards]})]}),Object(v.jsxs)("div",{className:"lineContent",children:[Object(v.jsx)("div",{className:"chipsWrapper",children:a.Genre&&a.Genre.split(",").map((function(n,e){return Object(v.jsx)(f.a,{label:n,size:"medium",variant:"outline",className:"chipStyle"},e)}))}),Object(v.jsxs)("div",{className:"ratingWrapper",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:"likeIcon",children:"\ud83d\udc4d"}),Object(v.jsxs)("span",{className:"rateText",children:[a.Metascore,"%"]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("img",{alt:"logo",src:w,className:"imdbLogo"}),Object(v.jsxs)("span",{className:"rateText",children:[a.imdbRating,"/10"]})]})]})]}),Object(v.jsx)("p",{children:a.Plot}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Actors: "})," ",a.Actors]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Director: "})," ",a.Director]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Writer: "})," ",a.Writer]})]})]})})})},N=O.a.div(c||(c=Object(h.a)(["\n    display: flex;\n    width: 94%;\n    padding: 3%;\n    margin: 15px auto;\n    box-shadow: 0 2px 10px 0 #d7d3ff;\n    cursor: pointer;\n    @media only screen and (max-width: 1024px) {\n        margin: 5px auto;\n    }\n\n    .moviePoster {\n        width: 18%;\n        margin-left: 2%;\n        @media only screen and (max-width: 1024px) {\n            width: 25%;\n            margin-left: 2%;\n        }\n        img {\n            max-width: 100%;\n            max-height: 100%;\n            height: auto;\n        }\n        .defaultImg {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            align-items: center;\n            background-color: #efefef;\n            p {\n                color: gray;\n                line-height: 25px;\n            }\n        }\n    }\n\n    .movieContent {\n        width: 76%;\n        margin-left: 3%;\n        padding-left: 15px;\n        text-align: left;\n        color: black;\n        @media only screen and (max-width: 1024px) {\n            h3 {\n                margin: 0px;\n                font-size: 15px;\n            }\n            h4 {\n                margin: 6px 0;\n                font-size: 13px;\n            }\n            a {\n                font-size: 13px;\n            }\n        }\n    }\n"]))),C=function(n){var e=n.movieData,t=n.onMovieClick;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(N,{onClick:t,children:[Object(v.jsx)("div",{className:"moviePoster",children:"N/A"!==e.Poster?Object(v.jsx)("img",{src:e.Poster,alt:"".concat(e.Title," poster")}):Object(v.jsx)("div",{className:"defaultImg",children:Object(v.jsx)("p",{children:"Poster is Not Available"})})}),Object(v.jsxs)("div",{className:"movieContent",children:[Object(v.jsx)("h3",{children:e.Title}),Object(v.jsxs)("h4",{children:["Released Date: ",e.Year]}),Object(v.jsxs)("h4",{children:["IMDB No: ",e.imdbID]}),Object(v.jsxs)("h4",{children:["Type: ",e.Type]}),Object(v.jsx)("a",{href:"https://www.imdb.com/title/".concat(e.imdbID),target:"_blank",rel:"noreferrer",children:"IMDb"})]})]},e.imdbID)})},k=t(131),P=t(134),D=t(124),S=t(133),A=t(127),T=t(135),z=t(125),E=O.a.div(i||(i=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 94%;\n    min-height: 40px;\n    margin: 30px auto;\n    padding: 10px 3% 18px 3%;\n    border-radius: 25px;\n    box-shadow: 0 2px 10px 0 #d7d3ff;\n    @media only screen and (max-width: 1024px) {\n        margin: 30px auto 0;\n    }\n\n    .searchInput {\n        width: 50%;\n        padding-right: 20px;\n        .searchImg {\n            position: absolute;\n            right: 0px;\n            font-size: 32px;\n            color: #684eed;\n        }\n    }\n\n    .selectInput {\n        width: 30%;\n        padding-right: 20px;\n    }\n\n    .searchButton {\n        width: 25%;\n        height: 40px;\n        background-color: #684eed;\n        border-radius: 20px;\n        margin: 10px auto;\n        @media only screen and (max-width: 1024px) {\n            height: 30px;\n            margin-top: 15px;\n            font-size: 13px\n        }\n    }\n"]))),B=function(n){var e=n.searchInputValue,t=n.onInputChange,a=n.onKeyPress,c=n.yearInputValue,i=n.onYearChange,r=n.onButtonClick,s=Object(o.useState)([]),l=Object(b.a)(s,2),d=l[0],h=l[1];return Object(o.useEffect)((function(){var n=(new Date).getFullYear(),e=[{value:null,text:"All"}];console.log("currentYear => ".concat(n));for(var t=n;t>=1900;t--)e.push({value:t,text:t});h(e)}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(E,{children:[Object(v.jsx)(k.a,{label:"Search",value:e,onChange:t,onKeyPress:a,fullWidth:!0,className:"searchInput",InputProps:{type:"search",endAdornment:Object(v.jsx)(P.a,{position:"start",children:!e&&Object(v.jsx)("span",{className:"searchImg",children:"\u2315"})})}}),Object(v.jsxs)(D.a,{fullWidth:!0,className:"selectInput",children:[Object(v.jsx)(S.a,{id:"demo-select-year-label",children:"Year"}),Object(v.jsx)(A.a,{labelId:"demo-select-year-label",value:c,label:"Year",onChange:i,children:d.map((function(n){return Object(v.jsx)(T.a,{value:n.value,children:n.text},n.text)}))})]}),Object(v.jsx)(z.a,{className:"searchButton",onClick:r,variant:"contained",color:"primary",children:"Search"})]})})};var Y=O.a.div(r||(r=Object(h.a)(["\n  text-align: center;\n\n  .App-header {\n    background-color: #282c34;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n  }\n\n  .App-content {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    height: auto;\n    background-color: #fff;\n    width: 60%;\n    padding: 2% 20%;\n    margin: 0 auto;\n    @media only screen and (max-width: 1024px) {\n      width: 92%;\n      padding: 2% 3%;\n    }\n  }\n\n  .search-disclaimer {\n    width: 94%;\n    text-align: left;\n    @media only screen and (max-width: 1024px) {\n      font-size: 13px;\n      text-align: center;\n    }\n  }\n\n"]))),W=function(){var n=Object(o.useState)([]),e=Object(b.a)(n,2),t=e[0],a=e[1],c=Object(o.useState)(""),i=Object(b.a)(c,2),r=i[0],s=i[1],l=Object(o.useState)(1),d=Object(b.a)(l,2),h=d[0],p=d[1],g=Object(o.useState)(),f=Object(b.a)(g,2),O=f[0],w=f[1],y=Object(o.useState)(!1),N=Object(b.a)(y,2),k=N[0],P=N[1],D=Object(o.useState)(""),S=Object(b.a)(D,2),A=S[0],T=S[1],z=Object(o.useState)({}),E=Object(b.a)(z,2),W=E[0],F=E[1],M=Object(o.useState)(!1),R=Object(b.a)(M,2),L=R[0],V=R[1],G=null;Object(o.useEffect)((function(){window.onscroll=function(){if(!k&&r){var n=document.getElementById("scrollableDiv").clientHeight;!k&&document.documentElement.scrollTop>n-window.innerHeight-500&&(console.log("need to load page no => ".concat(h+1)),P(!0),p(h+1),K(r,h+1))}}}),[k,h,r]);var K=function(){var n=Object(j.a)(x.a.mark((function n(e,c){var i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("inputValue => ".concat(e,"\nsearchPage => ").concat(c,"\nsearchYear => ").concat(O,"\nurl => http://www.omdbapi.com/?apikey=a61b9e49&s=").concat(r,"&page=").concat(c,"&y=").concat(O)),P(!0),i="http://www.omdbapi.com/?apikey=a61b9e49&s=".concat(e,"&page=").concat(c,"&y=").concat(O),n.next=5,fetch(i).then((function(n){return n.json()})).then((function(n){n.Response&&n.Search?(1===c?(a(n.Search),p(1)):a([].concat(Object(u.a)(t),Object(u.a)(n.Search))),T("Displaying ".concat(n.totalResults||"",' total results for "').concat(e,'"')),P(!1)):n.Error&&1===c&&(T(n.Error),a([]),P(!1))})).catch((function(){return alert("error")}));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),H=function(){var n=Object(j.a)(x.a.mark((function n(e){var t;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="http://www.omdbapi.com/?apikey=a61b9e49&i=".concat(e,"&plot=full"),n.next=3,fetch(t).then((function(n){return n.json()})).then((function(n){n.Response?(V(!0),F(n)):n.Error&&T(n.Error)})).catch((function(){return alert("error")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(Y,{children:[Object(v.jsx)("header",{className:"App-header",children:Object(v.jsx)("p",{style:{width:"95%",textAlign:"left"},children:"LawGeex Exercise"})}),Object(v.jsxs)("div",{className:"App-content",id:"scrollableDiv",children:[Object(v.jsx)(B,{searchInputValue:r,onInputChange:function(n){return e=n.target.value,console.log("handleInputChange => searchInput: ".concat(e)),s(e),clearTimeout(G),void(G=setTimeout((function(){K(e.trim(),1)}),500));var e},onKeyPress:function(n){"Enter"===n.key&&K(r,1)},yearInputValue:O,onYearChange:function(n){w(n.target.value),alert("Change Year => ".concat(n.target.value))},onButtonClick:function(){return K(r,1)}}),A&&Object(v.jsx)("p",{className:"search-disclaimer",children:A}),t.map((function(n){return Object(v.jsx)(C,{movieData:n,onMovieClick:function(){return H(n.imdbID)}})})),k&&Object(v.jsx)(m.a,{style:{margin:"0 auto"}})]}),L&&Object(v.jsx)(I,{openPopup:L,closePopup:function(){return V(!1)},movieData:W})]})},F=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,137)).then((function(e){var t=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;t(n),a(n),c(n),i(n),r(n)}))};d.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root")),F()}},[[88,1,2]]]);
//# sourceMappingURL=main.8a7d78f0.chunk.js.map